@if (HasError)
{
    <div class="alert alert-danger" role="alert">
        <h4 class="alert-heading">
            <i class="fas fa-exclamation-triangle me-2"></i>Something went wrong
        </h4>
        <p>We encountered an error while loading the data. Please try refreshing the page.</p>
        <hr>
        <button class="btn btn-outline-danger" @onclick="Retry">
            <i class="fas fa-redo me-2"></i>Try Again
        </button>
    </div>
}
else
{
    @ChildContent
}

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public EventCallback OnRetry { get; set; }
    
    public bool HasError { get; private set; }

    public void HandleError()
    {
        HasError = true;
        StateHasChanged();
    }

    private async Task Retry()
    {
        HasError = false;
        await OnRetry.InvokeAsync();
        StateHasChanged();
    }
}